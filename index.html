<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>横向轮播效果</title>
</head>
<style>
    *{
        margin:0;
        padding:0;
        list-style:none;
    }
.banner{
    width:1226px;
    height:460px;
    position:absolute;
    left:0;
    right:0;
    top:0;
    bottom:0;
    margin:auto;  
    overflow:hidden;
}
.banner .imgBox{
    width:100%;
    height:100%;
}
.banner .imgBox img{
    display:block;
    width:1226px;
    height:460px;
    position:absolute;
    top:0;
    left:1226px;
}
.banner .btnLeft{
    display:block;
    width:41px;
    height:69px;
    background-color:rgba(0,0,0,0.4);
    position:absolute;
    top:0;
    bottom:0;
    margin:auto;
    left:0;
    cursor:pointer;
}
.banner .btnRight{
    width:41px;
    height:69px;
    background-color:rgba(0,0,0,0.4);
    position:absolute;
    top:0;
    bottom:0;
    margin:auto;
    right:0;
    cursor:pointer;
}
.banner .point{
    width:100px;
    height:10px;
    position:absolute;
    left:0;
    right:0;
    margin:auto;
    bottom:30px;
}
.banner .point .dot{
    width:6px;
    height:6px;
    border-radius:50%;
    border:1px solid #ABABAB;
    background-color:rgba(0,0,0,0.4);
    float:left;
    margin:0 5px;
    cursor:pointer;
}
.banner .point .dot1{
    cursor: pointer;
    background-color:rgba(255,255,255,0.95);
    transition:0.5s;
}
</style>
<body>
    <div class="banner">
        <div class="imgBox">
            <img src="img/banner1-1.jpg" alt="">
            <img src="img/banner1-2.jpg" alt="">
            <img src="img/banner1-3.jpg" alt="">
            <img src="img/banner1-4.jpg" alt="">
            <img src="img/banner1-5.jpg" alt="">
        </div>
        <div class="btnLeft">
        </div>
        <div class="btnRight">
        </div>
        <div class="point">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
        </div>
    </div>
</body>
<script src="animate.js"></script>
<script>
    //横向轮播效果
    // let bannerImg=document.querySelectorAll(".banner .imgBox img");  //轮播图
    // let bannerDot=document.querySelectorAll(".banner .point .dot");  //轮播点
    // let bannerBox=document.querySelector(".banner");    //大盒子
    // let bannerLeft=document.querySelector(".banner .btnLeft");   //左箭头
    // let bannerRight=document.querySelector(".banner .btnRight");  //右箭头
    // let index=0,next=0;
    // bannerImg[0].style.left=0;
    // bannerDot[0].classList.add("dot1");
    // function moveLeft(){
    //     next++;
    //     if(next>bannerImg.length-1){
    //         next=0;
    //     }
    //     bannerImg[index].style.left=0;
    //     bannerImg[next].style.left=1226+"px";
    //     animate(bannerImg[index],{left:-1226});
    //     animate(bannerImg[next],{left:0});
    //     bannerDot[index].classList.remove("dot1");
    //     bannerDot[next].classList.add("dot1");
    //     index=next;
    // }
    // function moveRight(){
    //     next--;
    //     if(next<0){
    //         next=bannerImg.length-1;
    //     }
    //     bannerImg[index].style.left=0;
    //     bannerImg[next].style.left=-1226+"px";
    //     animate(bannerImg[index],{left:1226});
    //     animate(bannerImg[next],{left:0});
    //     bannerDot[index].classList.remove("dot1");
    //     bannerDot[next].classList.add("dot1");
    //     index=next;
    // }
    // let bannerSet=setInterval(()=>{
    //     moveLeft();
    // },2000)

    // bannerBox.onmouseover=()=>{
    //     clearInterval(bannerSet);
    // }
    // bannerBox.onmouseout=()=>{
    //     bannerSet=setInterval(()=>{
    //         moveLeft();
    //     },2000)
    // }
    // //左右箭头
    // bannerLeft.onclick=()=>{
    //     moveRight();
    // }
    // bannerRight.onclick=()=>{
    //     moveLeft();
    // }
    // //轮播点点击效果
    // bannerDot.forEach((v,i)=>{
    //     v.onclick=()=>{
    //         next=i;
    //         if(index>next){   //向右
    //             bannerImg[index].style.left=0;
    //             bannerImg[next].style.left=-1226+"px";
    //             animate(bannerImg[index],{left:1226});
    //             animate(bannerImg[next],{left:0});
    //             bannerDot[index].classList.remove("dot1");
    //             bannerDot[next].classList.add("dot1");
    //             index=next;
    //         }else if(index<next){    //向左
    //             bannerImg[index].style.left=0;
    //             bannerImg[next].style.left=1226+"px";
    //             animate(bannerImg[index],{left:-1226});
    //             animate(bannerImg[next],{left:0});
    //             bannerDot[index].classList.remove("dot1");
    //             bannerDot[next].classList.add("dot1");
    //             index=next;
    //         }
    //     }
    // })


        //轮播，设置一个开关flag
    // let bannerImg=document.querySelectorAll(".banner .imgBox img");
    // let bannerDot=document.querySelectorAll(".banner .point .dot");
    // let bannerBox=document.querySelector(".banner");
    // let bannerLeft=document.querySelector(".banner .btnLeft");
    // let bannerRight=document.querySelector(".banner .btnRight");
    // let index=0,next=0;
    // let flag=true;
    // bannerImg[0].style.left=0;
    // bannerDot[0].classList.add("dot1");
    // function moveLeft(){
    //     next++;
    //     if(next>bannerImg.length-1){
    //         next=0;
    //     }
    //     bannerImg[index].style.left=0;
    //     bannerImg[next].style.left=1226+"px";
    //     animate(bannerImg[index],{left:-1226});
    //     animate(bannerImg[next],{left:0},()=>{
    //         flag=true;
    //         bannerDot.forEach((v)=>{
    //             v.classList.remove("dot1");
    //         })
    //         bannerDot[next].classList.add("dot1");
    //     });
    //     index=next;
    // }
    // function moveRight(){
    //     next--;
    //     if(next<0){
    //         next=bannerImg.length-1;
    //     }
    //     bannerImg[index].style.left=0;
    //     bannerImg[next].style.left=-1226+"px";
    //     animate(bannerImg[index],{left:1226});
    //     animate(bannerImg[next],{left:0},()=>{
    //         flag=true;
    //         bannerDot.forEach((v)=>{
    //             v.classList.remove("dot1");
    //         })
    //         bannerDot[next].classList.add("dot1");
    //     });
    //     index=next;
    // }   
    // let bannerSet=setInterval(()=>{
    //     moveLeft();
    // },2000)

    // bannerBox.onmouseover=()=>{
    //     clearInterval(bannerSet);
    // }
    // bannerBox.onmouseout=()=>{
    //     bannerSet=setInterval(()=>{
    //         moveLeft();
    //     },2000)
    // }
    // //左右箭头
    // bannerLeft.onclick=()=>{
    //     if(!flag){
    //         return;
    //     }
    //     flag=false;
    //     moveRight();
    // }
    // bannerRight.onclick=()=>{
    //     if(!flag){
    //         return;
    //     }
    //     flag=false;
    //     moveLeft();
    // }
    // //轮播点点击效果
    // bannerDot.forEach((v,i)=>{
    //     v.onclick=()=>{
    //         if(!flag){
    //             return;
    //         }
    //         flag=false;
    //         next=i;
    //         if(index>next){   //向右
    //             bannerImg[index].style.left=0;
    //             bannerImg[next].style.left=-1226+"px";
    //             animate(bannerImg[index],{left:1226});
    //             animate(bannerImg[next],{left:0},()=>{
    //                 flag=true;
    //                 bannerDot.forEach((v)=>{
    //                     v.classList.remove("dot1");
    //                 })
    //                 bannerDot[next].classList.add("dot1");
    //             });
    //             index=next;
    //         }else if(index<next){    //向左
    //             bannerImg[index].style.left=0;
    //             bannerImg[next].style.left=1226+"px";
    //             animate(bannerImg[index],{left:-1226});
    //             animate(bannerImg[next],{left:0},()=>{
    //                 flag=true;
    //                 bannerDot.forEach((v)=>{
    //                     v.classList.remove("dot1");
    //                 })
    //                 bannerDot[next].classList.add("dot1");
    //             });
    //             index=next;
    //         }
    //         else{
    //             flag=true;
    //         }
    //     }
    // })

    // 封装为一个函数
    function banner(obj){
        let bannerImg=document.querySelectorAll(obj.image);  //轮播图
        let bannerDot=document.querySelectorAll(obj.point);  //轮播点
        let bannerBox=document.querySelector(obj.box);    //大盒子
        let bannerLeft=document.querySelector(obj.btnleft);   //左箭头
        let bannerRight=document.querySelector(obj.btnright);  //右箭头
        let index=0,next=0;
        bannerImg[0].style.left=0;
        bannerDot[0].classList.add("dot1");
        function moveLeft(){
            next++;
            if(next>bannerImg.length-1){
                next=0;
            }
            bannerImg[index].style.left=0;
            bannerImg[next].style.left=1226+"px";
            animate(bannerImg[index],{left:-1226});
            animate(bannerImg[next],{left:0});
            bannerDot[index].classList.remove("dot1");
            bannerDot[next].classList.add("dot1");
            index=next;
        }
        function moveRight(){
            next--;
            if(next<0){
                next=bannerImg.length-1;
            }
            bannerImg[index].style.left=0;
            bannerImg[next].style.left=-1226+"px";
            animate(bannerImg[index],{left:1226});
            animate(bannerImg[next],{left:0});
            bannerDot[index].classList.remove("dot1");
            bannerDot[next].classList.add("dot1");
            index=next;
        }
        let bannerSet=setInterval(()=>{
            moveLeft();
        },2000)

        bannerBox.onmouseover=()=>{
            clearInterval(bannerSet);
        }
        bannerBox.onmouseout=()=>{
            bannerSet=setInterval(()=>{
                moveLeft();
            },2000)
        }
        //左右箭头
        bannerLeft.onclick=()=>{
            moveRight();
        }
        bannerRight.onclick=()=>{
            moveLeft();
        }
        //轮播点点击效果
        bannerDot.forEach((v,i)=>{
            v.onclick=()=>{
                next=i;
                if(index>next){   //向右
                    bannerImg[index].style.left=0;
                    bannerImg[next].style.left=-1226+"px";
                    animate(bannerImg[index],{left:1226});
                    animate(bannerImg[next],{left:0});
                    bannerDot[index].classList.remove("dot1");
                    bannerDot[next].classList.add("dot1");
                    index=next;
                }else if(index<next){    //向左
                    bannerImg[index].style.left=0;
                    bannerImg[next].style.left=1226+"px";
                    animate(bannerImg[index],{left:-1226});
                    animate(bannerImg[next],{left:0});
                    bannerDot[index].classList.remove("dot1");
                    bannerDot[next].classList.add("dot1");
                    index=next;
                }
            }
        })
    }
    let obj={
        box:".banner",
        image:".banner .imgBox img",
        point:".banner .point .dot",
        btnleft:".banner .btnLeft",
        btnright:".banner .btnRight"
    }
    banner(obj)
</script>
</html>